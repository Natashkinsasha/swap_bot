# BSC Swap Bot

CLI-–±–æ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ BSC —á–µ—Ä–µ–∑ PancakeSwap (V2 / V3 / V4).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å .env
cp .env.example .env

# 3. –ö—É–ø–∏—Ç—å —Ç–æ–∫–µ–Ω –∑–∞ BNB
npx ts-node src/index.ts -b <TOKEN_ADDRESS> -a <AMOUNT_BNB>

# 3b. –ö—É–ø–∏—Ç—å —Ç–æ–∫–µ–Ω –∑–∞ USDT (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π ERC-20)
npx ts-node src/index.ts -b <TOKEN_ADDRESS> -a <AMOUNT> -s <SELL_TOKEN_ADDRESS>
```

## –ó–∞–ø—É—Å–∫

```bash
npx ts-node src/index.ts -b <BUY_TOKEN> -a <AMOUNT> [-s <SELL_TOKEN>] [-l <SLIPPAGE>]
```

| –§–ª–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
|---|---|---|
| `-b, --buy <address>` | –ê–¥—Ä–µ—Å —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ | ‚úÖ |
| `-a, --amount <value>` | –°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å | ‚úÖ |
| `-s, --sell <address>` | –ê–¥—Ä–µ—Å ERC-20 —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞—Ç–∏–≤–Ω—ã–π BNB) | –Ω–µ—Ç |
| `-l, --slippage <percent>` | Slippage (%), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `12` | –Ω–µ—Ç |

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ö—É–ø–∏—Ç—å CAKE –Ω–∞ 0.01 BNB
npx ts-node src/index.ts -b 0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82 -a 0.01

# –ö—É–ø–∏—Ç—å CAKE –Ω–∞ 10 USDT
npx ts-node src/index.ts -b 0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82 -a 10 -s 0x55d398326f99059fF775485246999027B3197955

# –ö—É–ø–∏—Ç—å USDT –Ω–∞ 0.5 BNB —Å–æ slippage 5%
npx ts-node src/index.ts -b 0x55d398326f99059fF775485246999027B3197955 -a 0.5 -l 5

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
npx ts-node src/index.ts --help
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (.env)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|---|---|---|
| `PRIVATE_KEY` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –º–Ω–µ–º–æ–Ω–∏–∫-—Ñ—Ä–∞–∑–∞ | ‚Äî |
| `BSC_RPC_URL` | RPC-–Ω–æ–¥–∞ BSC | `https://bsc-dataseed1.binance.org` |
| `SLIPPAGE_PERCENT` | Slippage (%) | `12` |
| `GAS_LIMIT` | Gas limit | `300000` |
| `DEADLINE_MINUTES` | Deadline —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–º–∏–Ω) | `20` |

`PRIVATE_KEY` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞:
- Hex: `a1b2c3d4e5...` (—Å –∏–ª–∏ –±–µ–∑ `0x`)
- –ú–Ω–µ–º–æ–Ω–∏–∫: `word1 word2 word3 ... word12`

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç

1. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∞–¥—Ä–µ—Å buy/sell —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å—É–º–º—É —á–µ—Ä–µ–∑ CLI
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏—â–µ—Ç –ø—É–ª—ã —á–µ—Ä–µ–∑ Dexscreener API –ø–æ –æ–±–æ–∏–º —Ç–æ–∫–µ–Ω–∞–º (—Ç–æ–ª—å–∫–æ BSC)
3. –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ PancakeSwap V2/V3/V4, –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∞—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –æ–±–∞ —Ç–æ–∫–µ–Ω–∞
4. –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π –ø—É–ª
5. –í—ã–ø–æ–ª–Ω—è–µ—Ç swap (BNB ‚Üí Token –∏–ª–∏ Token ‚Üí Token)
6. –õ–æ–≥–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤ —Ñ–∞–π–ª `swap-bot.log`

> **–ö–∞–∫ –∏—â—É—Ç—Å—è –ø—É–ª—ã:** Dexscreener API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º 30 –ø—É–ª–æ–≤ –Ω–∞ –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏.
> –î–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä USDT) —Ç–æ–ø-30 –º–æ–≥—É—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω—É–∂–Ω—É—é –ø–∞—Ä—É ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ 30 –ø—É–ª–æ–≤ USDT –±—É–¥—É—Ç USDT/USDC.
> –ü–æ—ç—Ç–æ–º—É –±–æ—Ç –¥–µ–ª–∞–µ—Ç **–¥–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞** ‚Äî –ø–æ buy-—Ç–æ–∫–µ–Ω—É –∏ –ø–æ sell-—Ç–æ–∫–µ–Ω—É ‚Äî –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π.
> –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–∞—Ä–∞ –≤—Ä–æ–¥–µ WBNB/USDT –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–∞ –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ç–æ–ø-30 –Ω–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
[12:34:56] info: Buy token: 0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82
[12:34:56] info: Sell token: BNB (native)
[12:34:56] info: Amount: 0.01 BNB | Slippage: 12%
---
[12:34:57] info: Fetching pools from Dexscreener for both tokens...
[12:34:57] info: Found 42 unique BSC pool(s)
[12:34:57] info: Supported pools:
  ‚Ä¢ Cake/WBNB [V2] liq: $13,823,344 ‚Äî 0x...
  ‚Ä¢ Cake/WBNB [V3] liq: $5,123,456 ‚Äî 0x...
[12:34:57] info: ‚úÖ Selected pool: Cake/WBNB on pancakeswap (v2) ‚Äî liquidity: $13,823,344
---
[12:34:57] info: Wallet: 0xYourAddress...
[12:34:57] info: Swapping 0.01 BNB ‚Üí Cake (V2)
[12:34:58] info: üîó TX: https://bscscan.com/tx/0x...
[12:35:05] info: ‚úÖ Swap confirmed!
---
[12:35:05] info: ‚úÖ Done! TX hash: 0x...
```

## –¢–µ—Å—Ç—ã

```bash
npm test                 # unit —Ç–µ—Å—Ç—ã
npm run test:integration # integration (—Ä–µ–∞–ª—å–Ω—ã–π Dexscreener API)
npm run test:all         # –≤—Å—ë –≤–º–µ—Å—Ç–µ
```

## –î–∏–∞–ª–æ–≥

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –¥–∏–∞–ª–æ–≥ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ/–ø—Ä–∞–≤–∫–∞–º –ø—Ä–æ–µ–∫—Ç–∞: `Dialog.md`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
  index.ts              ‚Äî CLI (commander)
  config/
    env.ts              ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env
    constants.ts        ‚Äî WBNB (internal), —Ä–æ—É—Ç–µ—Ä—ã PancakeSwap
  core/
    dexscreener.ts      ‚Äî –ø–æ–∏—Å–∫ –ø—É–ª–æ–≤ —á–µ—Ä–µ–∑ API
    swap.ts             ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä swap
    swap-v2.ts          ‚Äî PancakeSwap V2
    swap-v3.ts          ‚Äî PancakeSwap V3/V4
  types/
    index.ts            ‚Äî TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
  utils/
    logger.ts           ‚Äî winston –ª–æ–≥–≥–µ—Ä
    wallet.ts           ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
  abi/
    routerV2.ts         ‚Äî ABI V2 Router
    routerV3.ts         ‚Äî ABI V3 SwapRouter
tests/
  unit/                 ‚Äî unit —Ç–µ—Å—Ç—ã (–º–æ–∫–∏)
  integration/          ‚Äî integration —Ç–µ—Å—Ç—ã (—Ä–µ–∞–ª—å–Ω—ã–π API)
```

## ‚ö†Ô∏è Disclaimer

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å –º–∞–ª—ã–º–∏ —Å—É–º–º–∞–º–∏.
